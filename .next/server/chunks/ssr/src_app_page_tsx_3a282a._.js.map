{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/atmosph/random-number/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { motion } from \"framer-motion\";\nimport { useState, useEffect, useRef } from \"react\";\nimport \"./fireworks.css\";\n\nexport default function Home() {\n  const [numbers, setNumbers] = useState<number[]>([0, 0, 0]);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [showFireworks, setShowFireworks] = useState(false);\n  const successAudioRef = useRef<HTMLAudioElement | null>(null);\n  const randomAudioRef = useRef<HTMLAudioElement | null>(null);\n\n  useEffect(() => {\n    // สร้าง Audio elements เมื่อ component โหลด\n    successAudioRef.current = new Audio(\"/sounds/success.mp3\");\n    successAudioRef.current.volume = 0.5;\n\n    randomAudioRef.current = new Audio(\"/sounds/randomsound.mp3\");\n    randomAudioRef.current.volume = 0.5;\n    // ตั้งค่าให้เล่นเสียงวนซ้ำ\n    if (randomAudioRef.current) {\n      randomAudioRef.current.loop = true;\n    }\n  }, []);\n\n  useEffect(() => {\n    let intervalId: NodeJS.Timeout;\n\n    if (isAnimating) {\n      // เริ่มเล่นเสียง random\n      if (randomAudioRef.current) {\n        randomAudioRef.current\n          .play()\n          .catch((error) => console.log(\"Random sound failed:\", error));\n      }\n\n      intervalId = setInterval(() => {\n        setNumbers([\n          Math.floor(Math.random() * 10),\n          Math.floor(Math.random() * 10),\n          Math.floor(Math.random() * 10),\n        ]);\n      }, 50);\n    } else {\n      // หยุดเสียง random เมื่อ animation จบ\n      if (randomAudioRef.current) {\n        randomAudioRef.current.pause();\n        randomAudioRef.current.currentTime = 0;\n      }\n    }\n\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n      // หยุดเสียงเมื่อ component unmount\n      if (randomAudioRef.current) {\n        randomAudioRef.current.pause();\n        randomAudioRef.current.currentTime = 0;\n      }\n    };\n  }, [isAnimating]);\n\n  const playSuccessSound = () => {\n    if (successAudioRef.current) {\n      successAudioRef.current.currentTime = 0;\n      successAudioRef.current\n        .play()\n        .catch((error) => console.log(\"Success sound failed:\", error));\n    }\n  };\n\n  const generateRandom = () => {\n    if (isAnimating) return;\n\n    setIsAnimating(true);\n    setShowFireworks(false);\n\n    const newNumber = Math.floor(Math.random() * 1000);\n    const digits = String(newNumber).padStart(3, \"0\").split(\"\").map(Number);\n\n    setTimeout(() => {\n      setNumbers(digits);\n      setIsAnimating(false);\n      setShowFireworks(true);\n      playSuccessSound();\n      setTimeout(() => setShowFireworks(false), 6000);\n    }, 5000);\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gray-100\">\n      {showFireworks && (\n        <div className=\"pyro\">\n          <div className=\"before\"></div>\n          <div className=\"after\"></div>\n        </div>\n      )}\n      <div className=\"bg-white p-8 rounded-lg shadow-lg\">\n        <div className=\"flex gap-4 mb-6\">\n          {numbers.map((num, index) => (\n            <motion.div\n              key={index}\n              className=\"w-20 h-24 bg-blue-500 rounded-lg flex items-center justify-center text-white text-4xl font-bold\"\n              animate={\n                isAnimating\n                  ? {\n                      y: [-20, 20],\n                      transition: {\n                        repeat: Infinity,\n                        duration: 0.3,\n                        repeatType: \"reverse\",\n                      },\n                    }\n                  : {}\n              }\n            >\n              {num}\n            </motion.div>\n          ))}\n        </div>\n        <button\n          onClick={generateRandom}\n          disabled={isAnimating}\n          className={`w-full py-3 rounded-lg text-white font-semibold\n            ${\n              isAnimating\n                ? \"bg-gray-400 cursor-not-allowed\"\n                : \"bg-blue-500 hover:bg-blue-600\"\n            }`}\n        >\n          {isAnimating ? \"กำลังสุ่ม...\" : \"สุ่มตัวเลข\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}